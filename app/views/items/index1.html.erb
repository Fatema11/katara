<!DOCTYPE HTML> 
<html>
<head>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'/> 
<link href='stylesheets/style.css' rel='stylesheet'/>
<script>
document.addEventListener('GLALoad', onGLALoad, false);
function onGLALoad(event) {
  GLA.SetTuioEnabled(true);
}
</script>
<script>
document.addEventListener('touchstart', onDocumentTouchStart, false);
document.addEventListener('touchmove', onDocumentTouchMove, false);
document.addEventListener('touchend', onDocumentTouchEnd, false);  
 
function onDocumentTouchStart(event) {    
    for (var i = 0; i < event.touches.length; i++) {
    	console.log("Touchstart: " + event.touches[i].identifier);
        console.log("PageX: " + event.touches[i].pageX);
        console.log("PageY: " + event.touches[i].pageY);
    }    
}
 
function onDocumentTouchMove(event) {
    for (var i = 0; i < event.touches.length; i++) {
    	console.log("Touchmove: " + event.touches[i].identifier);
        console.log("PageX: " + event.touches[i].pageX);
        console.log("PageY: " + event.touches[i].pageY);
    }   
}
 
function onDocumentTouchEnd(event) {   
    for (var i = 0; i < event.changedTouches.length; i++) {
    	console.log("Touchend: " + event.touches[i].identifier);
        console.log("PageX: " + event.touches[i].pageX);
        console.log("PageY: " + event.touches[i].pageY);
    }       
}
</script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
  
  <script>
  $(document).ready(function() {
    $("#accordion").accordion();
  });
  </script>
</head>
<body>

<header><a href="/"><div id="skyline"><img src="images/landingpage3.png" alt="skyline"></a></div> </header>


<div id="mobileviewcontent">

<div id="nextandprev">
<a href='#' onclick='slider3.prev();return false;'>< prev</a> &nbsp;&nbsp;&nbsp;&nbsp;
<a href='#' onclick='slider3.next();return false;'>next ></a>
</div>

<div id='slider3' class='swipe'>

  <ul>
  
	<!---SLIDE 1 -->

<li style='display:block'><div><div id="listhead">•◦◦◦◦◦<a id="activitiesa"></a></div>
<div id="listimages"><img src="images/logos/Activities.png" alt="activity"></div>

<!--<div class="scroll">-->
<div id="desktopviewcontent">
<div id="dlistview">
<img src="images/listview.png" alt="listview">

<div id="list">

<div id="accordion">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Activities" %>
  <tr>
 <li>  <td><%= link_to "#{item.name}", item %></td> </li>
    <% if logged_in? %>
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
  <div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
  </tr>  
  </ul>

<% end  %>
<% end  %>
</div>

</div>

</div>

<div id="dmapview">
<img src="images/compass.png" alt="mapview">
<iframe width="80%" height="350" 
frameborder="0" scrolling="no" marginheight="0" 
marginwidth="0" src="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004cead1c5a493562912&amp;hl=en&amp;ie=UTF8&amp;t=m&amp;ll=25.360334,51.527821&amp;spn=0.001784,0.00058&amp;output=embed">
</iframe>
</div>
</div>

<div id="mlistview">
<div id="list">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Activities" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li> <!-- add item description? -->
  </tr>
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
<div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
    
<% end  %>
<% end  %>
</div>
</div>


<div id="compass"><a href="/maps/dining"><img src="images/compass.png" alt="compass"></a>
</div></li>
  
      
    <!---SLIDE 2 -->
    <li style='display:none'><div><div id="listhead">◦•◦◦◦◦<a id="dininga"></a></div>
     <div id="listimages"><img src="images/logos/Dining.png" alt="activity"></div>

  <div id="desktopviewcontent">
<div id="dlistview">
<img src="images/listview.png" alt="listview">

<div id="list">

<div id="accordion">
<% @items.each do |item| %>
<ul>  <%  if item.category == "Dining" %>
  <tr>
 <li>  <td><%= link_to "#{item.name}", item %></td> </li>
  </tr>  
  </ul>

<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
  <div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>

<% end  %>
<% end  %>
</div>

</div>
</div>

<div id="dmapview">
<img src="images/compass.png" alt="mapview">
<iframe width="80%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004ceac2dd881649ac76&amp;hl=en&amp;ie=UTF8&amp;ll=25.358754,51.526624&amp;spn=0.006679,0.003445&amp;t=m&amp;output=embed"></iframe><br /><small>View <a href="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004ceac2dd881649ac76&amp;hl=en&amp;ie=UTF8&amp;ll=25.358754,51.526624&amp;spn=0.006679,0.003445&amp;t=m&amp;source=embed" style="color:#0000FF;text-align:left">Dining</a> in a larger map</small>
</div>
</div>

<div id="mlistview">
<div id="list">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Dining" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li> <!-- add item description? -->
  </tr>
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
<div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
    
<% end  %>
<% end  %>
</div>
</div>

 <div id="compass"><a href="/maps/dining"><img src="images/compass.png" alt="compass"></a></div> 
</div> </li> 
   
   <!---SLIDE 3 -->
    <li style='display:none'><div><div id="listhead">◦◦•◦◦◦<a id="communitiesa"></a></div>
   <div id="listimages"><img src="images/logos/Community.png" alt="activity"></div>
  <div id="desktopviewcontent">
<div id="dlistview">
<img src="images/listview.png" alt="listview">

<div id="list">

<div id="accordion">
<% @items.each do |item| %>
<ul>  <%  if item.category == "Communities" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li>
  </tr>  
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
  <div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
 
<% end  %>
<% end  %>
</div>

</div>
</div>

<div id="dmapview">
<img src="images/compass.png" alt="mapview">
<iframe width="80%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004cead1b7e1a1338cdf&amp;hl=en&amp;ie=UTF8&amp;t=m&amp;ll=25.360098,51.525989&amp;spn=0.004201,0.002424&amp;output=embed"></iframe><br />
</div>
</div>

<div id="mlistview">
<div id="list">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Communities" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li> <!-- add item description? -->
  </tr>
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
<div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
    
<% end  %>
<% end  %>
</div>
</div>

 <div id="compass"><a href="/maps/communities"><img src="images/compass.png" alt="compass"></a></div> 

   </div></li>
   
   <!---SLIDE 4 -->
    <li style='display:none'><div><div id="listhead">◦◦◦•◦◦<a id="servicesa">></a></div>
     <div id="listimages"><img src="images/logos/Service.png" alt="activity"></div>
  <div id="desktopviewcontent">
<div id="dlistview">
<img src="images/listview.png" alt="listview">

<div id="list">

<div id="accordion">
<% @items.each do |item| %>
<ul>  <%  if item.category == "Services" %>
  <tr>
 <li>  <td><%= link_to "#{item.name}", item %></td> </li>
  </tr>  
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
  <div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>

<% end  %>
<% end  %>
</div>

</div>
</div>

<div id="dmapview">
<img src="images/compass.png" alt="mapview">

<iframe width="80%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004ceaccff1ba248db5c&amp;hl=en&amp;ie=UTF8&amp;t=m&amp;ll=25.358776,51.525576&amp;spn=0.006713,0.004662&amp;output=embed"></iframe>

</div>
</div>

<div id="mlistview">
<div id="list">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Services" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li> <!-- add item description? -->
  </tr>
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
<div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
    
<% end  %>
<% end  %>
</div>
</div>

 <div id="compass"><a href="/maps/services"><img src="images/compass.png" alt="compass"></a></div> 

</div></li>

   <!---SLIDE 5 -->
  <li style='display:none'><div><div id="listhead">◦◦◦◦•◦<a id="landmarksa"></a></div>
    <div id="listimages"><img src="images/logos/Landmark.png" alt="activity"></div>
  <div id="desktopviewcontent">
<div id="dlistview">
<img src="images/listview.png" alt="listview">

<div id="list">

<div id="accordion">
<% @items.each do |item| %>
<ul>  <%  if item.category == "Landmarks" %>
   <tr>
 <li>  <td><%= link_to "#{item.name}", item %></td> </li>
  </tr>  
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
  <div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>

<% end  %>
<% end  %>
</div>

</div>

</div>

<div id="dmapview">
<img src="images/compass.png" alt="mapview">
<iframe width="80%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004ceace678f5ad34232&amp;hl=en&amp;ie=UTF8&amp;t=m&amp;ll=25.360346,51.526137&amp;spn=0.002367,0.003176&amp;output=embed"></iframe>
</div>
</div>

<div id="mlistview">
<div id="list">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Landmarks" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li> <!-- add item description? -->
  </tr>
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
<div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
    
<% end  %>
<% end  %>
</div>
</div>

 <div id="compass"><a href="/maps/landmarks"><img src="images/compass.png" alt="compass"></a></div> 

</div></li>

<!---SLIDE 6 -->
 <li style='display:none'><div><div id="listhead">◦◦◦◦◦•<a id="eventsa"></a></div>
   <div id="listimages"><img src="images/logos/Event.png" alt="activity"></div>
  <div id="desktopviewcontent">
<div id="dlistview">
<img src="images/listview.png" alt="listview">

<div id="list">

<div id="accordion">
<% @items.each do |item| %>
<ul>  <%  if item.category == "Events" %>
  <tr>
 <li>  <td><%= link_to "#{item.name}", item %></td> </li>
  </tr>  
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
  <div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>

<% end  %>
<% end  %>
</div>

</div>

</div>

<div id="dmapview">
<img src="images/compass.png" alt="mapview">
<iframe width="80%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps/ms?msa=0&amp;msid=213986189473206983699.0004cead1a3580094bcb3&amp;hl=en&amp;ie=UTF8&amp;t=m&amp;ll=25.360024,51.525573&amp;spn=0.000524,0.00235&amp;output=embed"></iframe>
</div>
</div>

<div id="mlistview">
<div id="list">

<% @items.each do |item| %>
<ul>  <%  if item.category == "Events" %>
  <tr>
  <li>  <td><%= link_to "#{item.name}", item %></td> </li> <!-- add item description? -->
  </tr>
  </ul>
<% if logged_in? %> 
  <div class="button"><td><%= link_to "Edit", edit_item_path(item) %></td></div>
<div class="button"><td><%= link_to "Delete", item, :confirm => 'Are you sure?', :method => :delete %></td></div>
    <%end%>
    
<% end  %>
<% end  %>
</div>
</div>


   <div id="compass"><a href="/maps/events"><img src="images/compass.png" alt="compass"></a></div> 

</div></li>
</ul>

</div>

<br><br>

<script>
window.Swipe = function(element, options) {

  // return immediately if element doesn't exist
  if (!element) return null;

  var _this = this;

  // retreive options
  this.options = options || {};
  this.index = this.options.startSlide || 0;
  this.speed = this.options.speed || 300;
  this.callback = this.options.callback || function() {};
  this.delay = this.options.auto || 0;

  // reference dom elements
  this.container = element;
  this.element = this.container.children[0]; // the slide pane

  // static css
  this.container.style.overflow = 'hidden';
  this.element.style.listStyle = 'none';
  this.element.style.margin = 0;

  // trigger slider initialization
  this.setup();

  // begin auto slideshow
  this.begin();

  // add event listeners
  if (this.element.addEventListener) {
    this.element.addEventListener('touchstart', this, false);
    this.element.addEventListener('touchmove', this, false);
    this.element.addEventListener('touchend', this, false);
    this.element.addEventListener('webkitTransitionEnd', this, false);
    this.element.addEventListener('msTransitionEnd', this, false);
    this.element.addEventListener('oTransitionEnd', this, false);
    this.element.addEventListener('transitionend', this, false);
    window.addEventListener('resize', this, false);
  }

};

Swipe.prototype = {

  setup: function() {

    // get and measure amt of slides
    this.slides = this.element.children;
    this.length = this.slides.length;

    // return immediately if their are less than two slides
    if (this.length < 2) return null;

    // determine width of each slide
    this.width = Math.ceil(("getBoundingClientRect" in this.container) ? this.container.getBoundingClientRect().width : this.container.offsetWidth);

    // return immediately if measurement fails
    if (!this.width) return null;

    // hide slider element but keep positioning during setup
    this.container.style.visibility = 'hidden';

    // dynamic css
    this.element.style.width = Math.ceil(this.slides.length * this.width) + 'px';
    var index = this.slides.length;
    while (index--) {
      var el = this.slides[index];
      el.style.width = this.width + 'px';
      el.style.display = 'table-cell';
      el.style.verticalAlign = 'top';
    }

    // set start position and force translate to remove initial flickering
    this.slide(this.index, 0); 

    // show slider element
    this.container.style.visibility = 'visible';

  },

  slide: function(index, duration) {

    var style = this.element.style;

    // fallback to default speed
    if (duration == undefined) {
        duration = this.speed;
    }

    // set duration speed (0 represents 1-to-1 scrolling)
    style.webkitTransitionDuration = style.MozTransitionDuration = style.msTransitionDuration = style.OTransitionDuration = style.transitionDuration = duration + 'ms';

    // translate to given index position
    style.MozTransform = style.webkitTransform = 'translate3d(' + -(index * this.width) + 'px,0,0)';
    style.msTransform = style.OTransform = 'translateX(' + -(index * this.width) + 'px)';

    // set new index to allow for expression arguments
    this.index = index;

  },

  getPos: function() {
    
    // return current index position
    return this.index;

  },

  prev: function(delay) {

    // cancel next scheduled automatic transition, if any
    this.delay = delay || 0;
    clearTimeout(this.interval);

    // if not at first slide
    if (this.index) this.slide(this.index-1, this.speed);

  },

  next: function(delay) {

    // cancel next scheduled automatic transition, if any
    this.delay = delay || 0;
    clearTimeout(this.interval);

    if (this.index < this.length - 1) this.slide(this.index+1, this.speed); // if not last slide
    else this.slide(0, this.speed); //if last slide return to start

  },

  begin: function() {

    var _this = this;

    this.interval = (this.delay)
      ? setTimeout(function() { 
        _this.next(_this.delay);
      }, this.delay)
      : 0;
  
  },
  
  stop: function() {
    this.delay = 0;
    clearTimeout(this.interval);
  },
  
  resume: function() {
    this.delay = this.options.auto || 0;
    this.begin();
  },

  handleEvent: function(e) {
    switch (e.type) {
      case 'touchstart': this.onTouchStart(e); break;
      case 'touchmove': this.onTouchMove(e); break;
      case 'touchend': this.onTouchEnd(e); break;
      case 'webkitTransitionEnd':
      case 'msTransitionEnd':
      case 'oTransitionEnd':
      case 'transitionend': this.transitionEnd(e); break;
      case 'resize': this.setup(); break;
    }
  },

  transitionEnd: function(e) {
    
    if (this.delay) this.begin();

    this.callback(e, this.index, this.slides[this.index]);

  },

  onTouchStart: function(e) {
    
    this.start = {

      // get touch coordinates for delta calculations in onTouchMove
      pageX: e.touches[0].pageX,
      pageY: e.touches[0].pageY,

      // set initial timestamp of touch sequence
      time: Number( new Date() )

    };

    // used for testing first onTouchMove event
    this.isScrolling = undefined;
    
    // reset deltaX
    this.deltaX = 0;

    // set transition time to 0 for 1-to-1 touch movement
    this.element.style.MozTransitionDuration = this.element.style.webkitTransitionDuration = 0;
    
    e.stopPropagation();
  },

  onTouchMove: function(e) {

    // ensure swiping with one touch and not pinching
    if(e.touches.length > 1 || e.scale && e.scale !== 1) return;

    this.deltaX = e.touches[0].pageX - this.start.pageX;

    // determine if scrolling test has run - one time test
    if ( typeof this.isScrolling == 'undefined') {
      this.isScrolling = !!( this.isScrolling || Math.abs(this.deltaX) < Math.abs(e.touches[0].pageY - this.start.pageY) );
    }

    // if user is not trying to scroll vertically
    if (!this.isScrolling) {

      // prevent native scrolling 
      e.preventDefault();

      // cancel slideshow
      clearTimeout(this.interval);

      // increase resistance if first or last slide
      this.deltaX = 
        this.deltaX / 
          ( (!this.index && this.deltaX > 0               // if first slide and sliding left
            || this.index == this.length - 1              // or if last slide and sliding right
            && this.deltaX < 0                            // and if sliding at all
          ) ?                      
          ( Math.abs(this.deltaX) / this.width + 1 )      // determine resistance level
          : 1 );                                          // no resistance if false
      
      // translate immediately 1-to-1
      this.element.style.MozTransform = this.element.style.webkitTransform = 'translate3d(' + (this.deltaX - this.index * this.width) + 'px,0,0)';
      
      e.stopPropagation();
    }

  },

  onTouchEnd: function(e) {

    // determine if slide attempt triggers next/prev slide
    var isValidSlide = 
          Number(new Date()) - this.start.time < 250      // if slide duration is less than 250ms
          && Math.abs(this.deltaX) > 20                   // and if slide amt is greater than 20px
          || Math.abs(this.deltaX) > this.width/2,        // or if slide amt is greater than half the width

    // determine if slide attempt is past start and end
        isPastBounds = 
          !this.index && this.deltaX > 0                          // if first slide and slide amt is greater than 0
          || this.index == this.length - 1 && this.deltaX < 0;    // or if last slide and slide amt is less than 0

    // if not scrolling vertically
    if (!this.isScrolling) {

      // call slide function with slide end value based on isValidSlide and isPastBounds tests
      this.slide( this.index + ( isValidSlide && !isPastBounds ? (this.deltaX < 0 ? 1 : -1) : 0 ), this.speed );

    }
    
    e.stopPropagation();
  }

};
</script>
<script>
new Swipe(document.getElementById('slider'));
new Swipe(document.getElementById('slider2'));
var slider3 = new Swipe(document.getElementById('slider3'));
var slider4 = new Swipe(document.getElementById('slider4'));
</script>
<script language="javascript">
function showonlyone(thechosenone) {
      var newboxes = document.getElementsByTagName("div");
            for(var x=1; x<newboxes.length; x++) {
                  name = newboxes[x].getAttribute("name");
                  if (name == 'newboxes') {
                        if (newboxes[x].id == thechosenone) {
                        newboxes[x].style.display = 'block';
                  }
                  else {
                        newboxes[x].style.display = 'none';
                  }
            }
      }
}
</script>


</body> 
</html> 